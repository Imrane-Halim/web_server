## üìú WebServer Configuration Rules

### 1Ô∏è‚É£ General Rules

# 1. **Each directive must be within the correct context**:
#    * Main Context ‚Üí only `server { ... }`
#    * Server Context ‚Üí server-level directives
#    * Location Context ‚Üí location-specific directives

# 2. **Any directive outside the allowed context ‚Üí syntax error**
# 3. **Duplicate directives on the same line ‚Üí error**
# 4. **Duplicate directives on separate lines ‚Üí the last value applies**
# 5. **Missing required directive ‚Üí error**
# 6. **Data types must match**:
#    * String
#    * Integer
#    * Vector<String>
#    * Boolean

# 7. **Any extra characters after a directive or value are considered normal and ignored**

### 2Ô∏è‚É£ Main Context Rules

# Only `server { ... }` is allowed.
# Anything else ‚Üí syntax error
# Multiple `server { ... }` blocks are allowed (for multiple servers)

### 3Ô∏è‚É£ Server Context Rules

# | Directive               | Required | Default         | Rule                                |
# | ----------------------- | -------- | --------------- | ----------------------------------- |
# | host                    | No       | 127.0.0.1       | Must be a valid IPv4 address        |
# | port                    | No       | 80              | Valid range: 1‚Äì65535                |
# | server\_name            | No       | localhost       |                                     |
# | root                    | No       | "/"             | Can be inherited by locations       |
# | client\_max\_body\_size | No       | 20000000        | Can be inherited by locations       |
# | index                   | No       | \["index.html"] | Can be inherited by locations       |
# | error\_page             | No       | built-in HTML   | Can be repeated; last value applies |
# | location                | No       | N/A             | Must contain valid directives       |

# *Additional Server Rules*:

# Directive outside the server block ‚Üí error
# Missing optional directive ‚Üí default value applies

### 4Ô∏è‚É£ Location Context Rules

# | Directive               | Required | Default              | Rule                                                                    |
# | ----------------------- | -------- | -------------------- | ----------------------------------------------------------------------- |
# | route                   | Yes      | N/A                  | Error if missing                                                        |
# | root                    | No       | inherits from server |                                                                         |
# | client\_max\_body\_size | No       | inherits from server |                                                                         |
# | index                   | No       | inherits from server |                                                                         |
# | methods                 | No       | \["GET"]             | Duplicate on the same line ‚Üí error; separate lines ‚Üí last value applies |
# | autoindex               | No       | false                |                                                                         |
# | upload\_store           | No       | "" (disabled)        |                                                                         |
# | redirect                | No       | "" (no redirect)     |                                                                         |
# | cgi\_pass               | No       | "" (no CGI)          |                                                                         |


# *Additional Location Rules*:

# Missing optional directive ‚Üí default or inherited value applies
# Any extra characters after a directive ‚Üí considered normal
# Duplicate directives on the same line ‚Üí error
# Duplicate directives on separate lines ‚Üí last value applies

### 5Ô∏è‚É£ Syntax & Error Handling
# Any deviation from the rules ‚Üí **syntax error**
# Whitespace is insignificant unless inside `quotes`
# Any text within `"` or `'` must be preserved exactly (spaces inside quotes ‚Üí part of the value)
# Duplicate directive on the same line ‚Üí error
# Duplicate directive on separate lines ‚Üí override with the last value
# Any directive outside the allowed context ‚Üí error

### 6Ô∏è‚É£ User Tips

# Maintain file order: Main ‚Üí Server ‚Üí Location
# Validate each value type before saving
# Use quotes if the value contains spaces
# Avoid duplicate directives on the same line
# Use default values when needed to prevent errors

# server {
#     host 127.0.0.1
#     port 8080
#     server_name myserver
#     root ./www
#     client_max_body_size 20000000
#     index index.html index.htm

#     error_page 400 ./errors/400.html
#     error_page 403 ./errors/403.html
#     error_page 404 ./errors/404.html
#     error_page 500 ./errors/500.html

#     location {
#         route /
#         root ./www
#         autoindex on
#         redirect /newpage
#         upload_store ./uploads
#         client_max_body_size 10000000
#         cgi_pass /usr/bin/php-cgi
#         methods GET POST DELETE
#         index index.html index.htm
#     }
# }